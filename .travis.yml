language: php

sudo: false

php:
  - 7.1
  - 7.2
  - 7.3

notifications:
  email: false
  slack:
    rooms:
      - secure: "LfwP1smlbYkEjDIU4KbYORCAgLtQpJHRzx8WXXJ0liwaFCOZojNOjCdSlw1B64muS8gItKqTkgtZTp6my/B1d17ze+uVZNrqcKYkzKkWr4qblgIaMLesQ8f46uDup2l5ovDG9XK5E12xxxEwSLtUdrOqDabYG9ogVXV67rjF3xCca4Q33uFWYMZPRqs0ZRFR1nmL96YEF7MGdLEB09EuLwoBej/ovWc+ODWViaVzwuSL0FVlOlLREzBLyZjSh1HlM8u0DDzVVo1+Rza/hvhC21ErUHbzGNtY3ObZjteBRAk9HCIRUuHZF+zm/KDn/hv1dk/xRgZ3MFn7b3z+qkodmEy36osgMPEj75872JzLTQZIkRTY6AkdPK4k4j3iPS66tMNoKe9IC0vwltHLi1OTj/dmoT7qv9UmcG7vmPjaUconHhpwZGCWR6BwvzU8x1pmFkaq72KbpvvmyNFiIz+3MDEyYT+5NoBdLfnYlq+9ZZQ/QOares4eaOkWncnjz9AGVtYZa9pbOjzKpOQT9s5XbywrelqB5I0gIeuInvkom8jfumzVuhyD+BjD9natgi1p4gm1Z9K7f63y1xllmRfAciBlgrb1jlh5krUo/9ryrZrERWaOZVaRJBa3aFrADooUgQPSoKLZ3cjbKCU26wf7VyoUkQLPxzk4TDerOlglL5I="
    on_success: always
    on_failure: always

env:
  matrix:
    - LARAVEL=5.8.*
    - LARAVEL=dev-master

matrix:
  fast_finish: true
  exclude:
    - php: 7.1
      env: LARAVEL=dev-master
  allow_failures:
    - env: LARAVEL=dev-master

before_install:
  - phpenv config-rm xdebug.ini || true
  - travis_retry composer self-update

install:
  - travis_retry composer require "illuminate/contracts=${LARAVEL}" --dev --prefer-dist --no-interaction --no-suggest

script: vendor/bin/phpunit --verbose
