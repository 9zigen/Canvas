language: php

sudo: false

php:
  - 7.1
  - 7.2
  - 7.3

notifications:
  email: false
  slack:
    rooms:
      - secure: "RyXMzwNoP/whrCXnhN/IupHVgvYYbQXpYViPVLvYS0UJiAHSiTKjVU8Z4BP7DiF5GkZuakqDWrPjX/Aj4Vzgq9ELYvgt7p2fBxrQddyBcWik1DQvUeXcbseXYYiLYrtPPlYUUfGzJHE141TDKVzzyqr+/n7xBZq704AYeg8VamtdDoWEbhDiNr+QiCbXUov1Eoeew/ffSE6bVx+JZPmavELCBWHmBHNr/dwfCiqct5bdK4Swdgm4MPRIuQm70K16s1aZ+A21tiQBqdunOeaALWn1dk5edyGv89dS7UnLyIATXbZEaPxb/lsg8WXge4LVdEvQNXhgkHCdjVzGJDhWzWz53IV5zntICUYGliSxy6GgxhEhhtaHMorFy31a8tHPa4Ea9fCeikGREvki5ZqXIf8EePRn5APV5tni/ody10ZQlxCz+vc/+dfBLQsBViSKj3p2I4umKL9234qPgqVsWtswpLK70r16wX21ftATmTj1EjhowYxfqR/T4jsH/9yHjT2HwKv4Vha2M/Ti3Pa/CmawEIH3SQejh6QnI6if6VKk/1XKedB/l00PxLTARzJwv+lBJ5Io3H6P0OJ/tL3UNGTvPvFzGDKvllPf1fl3cDr/3GNkTjDfoEdqV+qAlDaKNqaqUIEnoxpyL71rJ6h0Ej/LPK1YZ4yk6RjG2TqYl50="
    on_success: always
    on_failure: always

env:
  matrix:
    - LARAVEL=5.8.*
    - LARAVEL=dev-master

matrix:
  fast_finish: true
  exclude:
    - php: 7.1
      env: LARAVEL=dev-master
  allow_failures:
    - env: LARAVEL=dev-master

before_install:
  - phpenv config-rm xdebug.ini || true
  - travis_retry composer self-update

install:
  - travis_retry composer require "illuminate/contracts=${LARAVEL}" --dev --prefer-dist --no-interaction --no-suggest

script: vendor/bin/phpunit --verbose
